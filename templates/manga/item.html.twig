{% extends 'base.html.twig' %}

{% block title %}{{ parent() }}{{manga.title}}{% endblock %}

{% block body_class %}overflow-hidden{% endblock %}

{% block body %}
{% block navbar %}{{ parent() }}{% endblock %}
    <div class="flex flex-col h-screen">
        <h1 class="text-4xl text-center my-2">{{manga.title}}</h1>
        <div class="flex-grow flex items-center justify-center">
            <div class="flex flex-col justify-center">
                <div class="flex border-2 border-red-500 rounded m-4 p-4 h-min justify-self-center">
                    <div class="max-w-sm">
                        <img src="{{manga.coverImage}}" alt="{{manga.title}}">
                    </div>
                    <div class="flex flex-col justify-around mx-3 w-full">
                        <div class="flex flex-col">
                            <p class="text-3xl">{{manga.title}}</p>
                            <p class="text-3xl">Créée par {{manga.author.fullName}}</p>
                            <p class="text-3xl">Maison d'édition : {{manga.editor.name}}</p>
                            {% if manga.status != "Pas commencé" %}
                                <p class="text-3xl">Date de parution : {{manga.releaseDate|date('d/m/Y')}}</p>
                            {% endif %}
                        </div>
                        <div class="flex justify-between me-2">
                            {% if manga.volumes > 1 %}
                                <p class="text-3xl">{{manga.volumes}} tomes</p>
                            {% else %}
                                <p class="text-3xl">{{manga.volumes}} tome</p>
                            {% endif %}
                            <p class="text-3xl">Status : {{manga.status.name}}</p>
                        </div>
                        <div class="flex justify-between">
                            {% if manga.collected != false %}
                                <div class="bg-green-600 rounded flex flex-col p-2">
                                    <p class="text-2xl text-center">Collectionné</p>
                                    <p class="text-2xl text-center">{{manga.collectedVolumes}} / {{manga.volumes}}</p>
                                </div>
                                {% else %}
                                    <div class="bg-red-700 rounded flex flex-col p-2">
                                        <p class="text-2xl text-center text-wrap max-w-40">Pas fini de collectionner</p>
                                        <p class="text-2xl text-center">{{manga.collectedVolumes}} / {{manga.volumes}}</p>
                                    </div>
                            {% endif %}
                            {% if manga.readed != false %}
                                <div class="bg-blue-600 rounded flex flex-col p-2">
                                    <p class="text-2xl text-center">Lu</p>
                                    <p class="text-2xl text-center">{{manga.volumesRead}} / {{manga.volumes}}</p>
                                </div>
                                {% else %}
                                    <div class="bg-red-700 rounded flex flex-col p-2 justify-center">
                                        <p class="text-2xl text-center">Pas fini de lire</p>
                                        <p class="text-2xl text-center">{{manga.volumesRead}} / {{manga.volumes}}</p>
                                    </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% if manga.status != "Pas commencé" %}
                <div id="custom" class="w-1/2 h-96 overflow-y-auto mt-4">
                    {% for i in 1 .. manga.volumes %}
                        <div class="border-2 border-white rounded my-2">
                            <p class="text-3xl text-center">Tome {{i}}</p>
                            <div class="m-1 flex justify-around">
                            <img class="w-14 bg-orange-500 rounded-full" src="{{ asset('imgs/cross.svg') }}" alt="cross logo">
                            <img class="w-14 bg-orange-500 rounded-full" src="{{ asset('imgs/eye-closed.svg') }}" alt="eye closed logo">
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}